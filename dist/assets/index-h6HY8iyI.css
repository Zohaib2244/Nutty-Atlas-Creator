*{margin:0;padding:0;box-sizing:border-box}:root{--bg-dark: #1a1a1a;--bg-card: #2a2a2a;--bg-input: #333;--text-primary: #f0f0f0;--text-secondary: #aaa;--border-color: #444;--accent-primary: #4a9eff;--accent-primary-hover: #3a8ee5;--accent-success: #4caf50;--accent-success-hover: #45a049;--drop-zone-bg: #252525;--drop-zone-border: #555;--drop-zone-active: #3a8ee5}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background:var(--bg-dark);color:var(--text-primary);line-height:1.6}html,body{height:100%;overflow:hidden}.app{min-height:100vh;display:flex;flex-direction:column}.app-header{background:var(--bg-card);border-bottom:1px solid var(--border-color);padding:1.25rem 2rem;display:flex;align-items:center;justify-content:space-between;gap:2rem}.app-header h1{font-size:1.75rem;font-weight:600}.mode-toggle-container{position:relative;display:flex;background:var(--bg-input);border-radius:2rem;padding:.375rem;gap:.375rem;box-shadow:inset 0 2px 8px #0000004d}.left-tabs{display:flex;gap:.5rem;margin-bottom:.5rem}.left-tab{padding:.45rem .6rem;background:var(--bg-input);border:1px solid var(--border-color);color:var(--text-secondary);border-radius:.375rem;cursor:pointer;font-weight:600;font-size:.9rem;transition:all .18s ease}.left-tab:hover:not(.active){color:var(--text-primary)}.left-tab.active{color:#fff;background:linear-gradient(135deg,#4a90e2,#357abd);border-color:#4a90e2a6;box-shadow:0 6px 18px #4a90e233}.mode-option{position:relative;z-index:2;display:flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;border:none;background:transparent;color:var(--text-secondary);font-size:.9rem;font-weight:500;border-radius:1.5rem;cursor:pointer;transition:color .3s ease;outline:none}.mode-option:hover:not(.active){color:var(--text-primary)}.mode-option.active{color:#fff}.mode-option svg{transition:transform .3s ease}.mode-option:hover svg{transform:scale(1.1)}.mode-option.active svg{transform:scale(1.15)}.mode-slider{position:absolute;top:.375rem;left:.375rem;height:calc(100% - .75rem);width:calc(50% - .5625rem);background:linear-gradient(135deg,#4a90e2,#357abd);border-radius:1.5rem;transition:transform .4s cubic-bezier(.68,-.55,.265,1.55);box-shadow:0 4px 12px #4a90e266;z-index:1}.mode-slider.right{transform:translate(calc(100% + .375rem))}@keyframes pulse{0%,to{box-shadow:0 4px 12px #4a90e266}50%{box-shadow:0 4px 20px #4a90e299}}.mode-slider{animation:pulse 2s ease-in-out infinite}.app-main{display:grid;grid-template-columns:300px 1fr;flex:1;gap:.75rem;padding:.8rem;max-width:2000px;width:100%;margin:0 auto;height:calc(100vh - 70px);overflow:hidden}.app-main.has-atlas-panel{grid-template-columns:300px 1fr 420px}.sidebar{display:flex;flex-direction:column;gap:1.25rem;max-height:calc(100vh - 70px);overflow-y:auto;min-width:300px}.atlas-panel{display:flex;flex-direction:column;gap:1rem;min-width:380px;width:420px;max-height:calc(100vh - 90px)}.atlas-panel .card{overflow:auto;height:auto}.preview-section{min-width:0;display:flex;flex-direction:column;overflow:hidden}.card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:.75rem;padding:1rem}.preview-card{padding:.6rem .8rem;height:100%;max-height:100%;display:flex;flex-direction:column;overflow:hidden}.card h2{font-size:1.125rem;font-weight:600;margin-bottom:1rem;color:var(--text-primary)}.card h3{font-size:1rem;font-weight:600;margin-bottom:.75rem;color:var(--text-primary)}.card h4{font-size:.875rem;font-weight:600;margin-bottom:.5rem;color:var(--text-secondary)}.image-uploader{margin-bottom:1rem}.drop-zone{border:2px dashed var(--drop-zone-border);border-radius:.5rem;background:var(--drop-zone-bg);padding:2rem;cursor:pointer;transition:all .2s ease}.drop-zone:hover{border-color:var(--accent-primary);background:var(--bg-input)}.drop-zone.dragging{border-color:var(--drop-zone-active);background:var(--bg-input);border-style:solid}.drop-zone-content{display:flex;flex-direction:column;align-items:center;gap:.75rem;color:var(--text-secondary)}.drop-zone-content svg{opacity:.6}.drop-zone-text{font-size:.875rem;text-align:center}.image-list{margin-top:1rem}.image-list h3{font-size:.875rem;color:var(--text-secondary);margin-bottom:.5rem}.image-list-items{max-height:180px;overflow-y:auto;border:1px solid var(--border-color);border-radius:.375rem;background:var(--bg-input)}.image-list-item{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;font-size:.8125rem;border-bottom:1px solid var(--border-color)}.image-list-item:last-child{border-bottom:none}.image-list-number{color:var(--text-secondary);min-width:1.5rem}.image-list-name{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.image-list-size{color:var(--text-secondary);font-size:.75rem}.remove-image-btn,.replace-image-btn{margin-left:.5rem;background:transparent;border:0;cursor:pointer;padding:.2rem .45rem;transition:color .2s ease,transform .2s ease;font-size:1rem}.remove-image-btn{color:#f44}.remove-image-btn:hover{color:#f11;transform:scale(1.15)}.replace-image-btn{color:#ffc107}.replace-image-btn:hover{color:#ffed4e;transform:rotate(180deg) scale(1.15)}.atlas-settings{display:flex;flex-direction:column;gap:1rem}.setting-group{display:flex;flex-direction:column;gap:.375rem}.setting-group label{font-size:.875rem;font-weight:500;color:var(--text-secondary)}.toggle-label{display:flex!important;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;color:var(--text-primary)}.toggle-label input[type=checkbox]{width:18px;height:18px;cursor:pointer;accent-color:#4a90e2}.setting-description{font-size:.8rem;color:var(--text-secondary);margin-top:.25rem;margin-left:1.5rem}.setting-group input[type=checkbox]{width:16px;height:16px}.setting-group select,.setting-group input{padding:.5rem .75rem;background:var(--bg-input);border:1px solid var(--border-color);border-radius:.375rem;color:var(--text-primary);font-size:.875rem}.setting-group select:focus,.setting-group input:focus{outline:none;border-color:var(--accent-primary)}.setting-group input[type=number]{-moz-appearance:textfield}.setting-group input[type=number]::-webkit-outer-spin-button,.setting-group input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.preview-bg-toggle{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.5rem}.bg-chip{position:relative;display:inline-flex;align-items:center;gap:.5rem;padding:.65rem .75rem;border:1px solid var(--border-color);border-radius:.5rem;background:var(--bg-input);color:var(--text-primary);font-size:.85rem;cursor:pointer;transition:transform .25s ease,box-shadow .25s ease,border-color .25s ease,background .25s ease}.bg-chip:hover:not(:disabled){transform:translateY(-1px);border-color:var(--accent-primary);box-shadow:0 8px 24px #00000047}.bg-chip:disabled{opacity:.5;cursor:not-allowed}.bg-chip.active{border-color:var(--accent-primary);box-shadow:0 0 0 1px #4a9eff40,0 10px 28px #00000059;background:linear-gradient(135deg,#4a9eff14,#4a9eff2e)}.bg-chip-swatch{width:18px;height:18px;border-radius:6px;border:1px solid var(--border-color);box-shadow:inset 0 1px 2px #00000059}.bg-chip.bg-white .bg-chip-swatch{background:#fdfdfd}.bg-chip.bg-black .bg-chip-swatch{background:#050505}.bg-chip.bg-transparent .bg-chip-swatch{background-color:#1d1d1d;background-image:linear-gradient(45deg,#2b2b2b 25%,transparent 25%,transparent 75%,#2b2b2b 75%,#2b2b2b),linear-gradient(45deg,#2b2b2b 25%,transparent 25%,transparent 75%,#2b2b2b 75%,#2b2b2b);background-size:14px 14px;background-position:0 0,7px 7px}.btn{padding:.625rem 1.25rem;border:none;border-radius:.375rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background .2s ease;width:100%}.btn-primary{background:var(--accent-primary);color:#fff}.btn-primary:hover:not(:disabled){background:var(--accent-primary-hover)}.btn-success{background:var(--accent-success);color:#fff}.btn-success:hover:not(:disabled){background:var(--accent-success-hover)}.btn:disabled{opacity:.5;cursor:not-allowed}.export-panel{display:flex;flex-direction:column;gap:.75rem}.export-description{font-size:.8125rem;color:var(--text-secondary);margin-bottom:.25rem}.export-status{margin-top:.5rem;font-size:.8125rem;color:var(--accent-primary);text-align:center}.preview-card{height:100%;display:flex;flex-direction:column;max-height:100%;overflow:hidden}.preview-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.6rem;gap:.5rem}.preview-right{display:flex;align-items:center;gap:.75rem}.preview-info{font-size:.8125rem;color:var(--text-secondary)}.preview-subinfo{font-size:.78rem;color:var(--text-secondary)}.preview-meta{display:flex;align-items:center;gap:.5rem}.preview-divider{color:var(--text-secondary);padding:0 .25rem}.preview-actions{display:flex;align-items:center;gap:.5rem}.preview-scale-label,.preview-scale-select{display:none}.error-message{padding:.75rem;background:#f4433626;border:1px solid rgba(244,67,54,.3);border-radius:.375rem;color:#ff6b6b;font-size:.875rem;margin-bottom:1rem}.info-message{padding:.75rem;background:#4a9eff0f;border:1px solid rgba(74,158,255,.12);border-radius:.375rem;color:var(--accent-primary);font-size:.875rem;margin-bottom:1rem}.preview-container{display:flex;flex-direction:column;justify-content:center;align-items:stretch;gap:.75rem;margin-bottom:.5rem;flex:1 1 auto;min-height:0}.preview-stage{position:relative;border:1px solid var(--border-color);border-radius:.75rem;overflow:hidden;padding:.6rem;transition:transform .35s ease,box-shadow .35s ease,border-color .35s ease,background .35s ease;min-height:0;display:flex;flex-direction:column;flex:1 1 auto}.preview-stage:hover{transform:translateY(-2px);box-shadow:0 18px 36px #00000059;border-color:#4a9eff66}.preview-stage-visual{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;background:radial-gradient(circle at 25% 30%,rgba(74,158,255,.12),transparent 38%),radial-gradient(circle at 80% 20%,rgba(80,227,194,.12),transparent 36%),radial-gradient(circle at 40% 70%,rgba(255,255,255,.07),transparent 42%);opacity:.8;animation:previewGlow 9s ease-in-out infinite}.preview-stage-inner{position:relative;z-index:1;display:flex;align-items:center;justify-content:center;overflow:auto;flex:1 1 auto;min-height:0}.preview-canvas-wrapper{position:relative;width:100%;max-width:100%;aspect-ratio:1 / 1;display:flex;align-items:center;justify-content:center;flex-shrink:1}.preview-canvas{display:block;width:100%;height:100%;object-fit:contain;border:1px solid var(--border-color);background:transparent;border-radius:.5rem;box-shadow:0 10px 34px #0006;transition:transform .3s ease,box-shadow .3s ease}.preview-stage:hover .preview-canvas{transform:translateY(-1px);box-shadow:0 16px 42px #00000080}.preview-overlay{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.preview-selection{position:absolute;border:2px solid var(--accent-primary);border-radius:4px;box-shadow:0 0 0 1px #4a9eff73,0 8px 18px #00000059;background:#4a9eff1a;transition:box-shadow .2s ease,border-color .2s ease}linear-gradient(45deg,#2b2b2b 25%,transparent 25%,transparent 75%,#2b2b2b 75%,#2b2b2b); background-size: 24px 24px; background-position: 0 0,12px 12px; } .preview-empty{display:flex;align-items:center;justify-content:center;min-height:120px;color:var(--text-secondary);font-size:.875rem;text-align:center;border:1px dashed var(--border-color);border-radius:.5rem;background:var(--bg-input)}@keyframes previewGlow{0%,to{opacity:.75;transform:translateY(0)}50%{opacity:.95;transform:translateY(-6px)}}.preview-empty{display:flex;align-items:center;justify-content:center;min-height:300px;color:var(--text-secondary);font-size:.875rem;text-align:center}.atlas-pager{display:flex;align-items:center;gap:.5rem;justify-content:center;margin-bottom:.5rem;padding:.5rem 0;position:sticky;top:0}.preview-header .atlas-pager{position:static;padding:0;margin-bottom:0;background:transparent}.preview-header .atlas-pager .pager-label{display:none}.preview-header .atlas-pager .pager-btn{padding:.25rem .45rem;font-size:.78rem}.pager-btn{padding:.375rem .75rem;background:var(--bg-input);border:1px solid var(--border-color);border-radius:.375rem;color:var(--text-primary);font-size:.8125rem;cursor:pointer;transition:all .2s ease}.pager-btn:hover{background:var(--border-color)}.pager-btn.active{background:var(--accent-primary);border-color:var(--accent-primary);color:#fff}.json-preview{margin-top:.75rem}.json-code{background:#0a0a0a;border:1px solid var(--border-color);border-radius:.375rem;padding:1rem;font-size:.75rem;color:#6adb6a;overflow-x:auto;overflow-y:auto;max-height:40vh;font-family:Courier New,Courier,monospace;white-space:pre}.atlas-placement-list{margin-top:.5rem;border:1px solid var(--border-color);border-radius:.5rem;padding:.75rem;background:var(--bg-input)}.atlas-placement-list .list-header{display:flex;justify-content:space-between;align-items:baseline;gap:.5rem;margin-bottom:.5rem}.atlas-placement-list h3{margin:0;font-size:.95rem}.atlas-placement-list .list-sub{color:var(--text-secondary);font-size:.8rem}.placement-items{max-height:540px;overflow-y:auto;display:flex;flex-direction:column;gap:.35rem}.placement-row{display:flex;align-items:center;justify-content:space-between;gap:.5rem;padding:.5rem .6rem;background:var(--bg-card);border:1px solid var(--border-color);border-radius:.4rem;cursor:pointer;transition:border-color .2s ease,transform .2s ease,box-shadow .2s ease}.placement-row:hover{border-color:var(--accent-primary);transform:translateY(-1px);box-shadow:0 8px 18px #00000059}.placement-row.active{border-color:var(--accent-primary);box-shadow:0 0 0 1px #4a9eff59,0 10px 20px #0006}.placement-main{display:flex;flex-direction:column;gap:.1rem;min-width:0}.placement-name{font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.placement-size{font-size:.8rem;color:var(--text-secondary)}.placement-actions{display:flex;align-items:center;gap:.35rem}.placement-badge{padding:.2rem .45rem;border-radius:.35rem;font-size:.75rem;border:1px solid var(--border-color)}.badge-new{background:#4caf5026;color:#7fe184;border-color:#4caf5066}.badge-existing{background:#ffffff0f;color:var(--text-secondary)}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-input)}::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#666}@media (max-width: 1024px){.app-main{grid-template-columns:1fr!important}}
